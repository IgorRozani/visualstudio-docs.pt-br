---
title: Depurando um modelo de texto T4
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- text templates, troubleshooting
- text templates, debugging
author: gewarren
ms.author: gewarren
manager: douge
ms.workload:
- multiple
ms.prod: visual-studio-dev15
ms.technology: vs-ide-modeling
ms.openlocfilehash: fa551316e955b5e14d2b2030a7150a9b4daaab71
ms.sourcegitcommit: e13e61ddea6032a8282abe16131d9e136a927984
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/26/2018
ms.locfileid: "31954346"
---
# <a name="debugging-a-t4-text-template"></a>Depurando um modelo de texto T4
Você pode definir pontos de interrupção em modelos de texto. Para depurar um modelo de texto de tempo de design, salve o arquivo de modelo de texto e, em seguida, escolha **depurar T4 modelo** no menu de atalho do arquivo no Gerenciador de soluções. Para depurar um modelo de texto de tempo de execução, simplesmente depure o aplicativo ao qual ele pertence.

 Para depurar um modelo de texto, você deve compreender as etapas do processo de transformação do modelo. Diferentes tipos de erros podem ocorrer dentro de cada etapa. As etapas são as seguintes.

|Etapa|Modelo de tempo de design: quando isso acontece|Modelo de tempo de execução: quando isso acontece|
|----------|--------------------------------------------|-----------------------------------------|
|Código é gerado a partir do modelo de texto.<br /><br /> Erros de diretivas, ou incompatíveis ou fora de ordem `<#...#>` marcas.|Quando você salva o modelo ou invocação de transformação de texto.|Quando você salva o modelo ou invocação de transformação de texto.|
|Código gerado é compilado.<br /><br /> Erros de compilação em seu código de modelo.|Imediatamente após a etapa anterior.|Juntamente com o código do aplicativo.|
|O código é executado.<br /><br /> Erros de tempo de execução em seu código de modelo.|Imediatamente após a etapa anterior.|Quando seu aplicativo é executado e chama o código de modelo.|

 Na maioria dos casos, os números de linha no código de modelo recebem o relatório de erros. Quando o relatório de erros se refere a um nome de arquivo temporário, a causa comum é um colchete incompatível no código do modelo de texto.

 Você pode definir pontos de interrupção em modelos de texto e de depuração como de costume.

## <a name="common-errors-and-fixes"></a>Erros comuns e correções
 A tabela a seguir lista os erros mais comuns e suas correções.

|Mensagem de erro|Descrição|Solução|
|-------------------|-----------------|--------------|
|Falha ao carregar a classe base{0}' da qual transformação classe herdada.|Ocorre se você não encontrar a classe base especificada no `inherits` parâmetro em uma diretiva de modelo. A mensagem fornece o número da linha da diretiva de modelo.|Certifique-se de que a classe especificada existe e se o assembly que ela existe no está especificado em uma diretiva de assembly.|
|Falha ao resolver o texto incluso para o arquivo:{0}|Ocorre quando não é possível localizar um modelo incluído. A mensagem fornece o nome do arquivo de inclusão solicitada.|Certifique-se de que o caminho do arquivo é relativo ao caminho do modelo original, ou que o arquivo está em um local que está registrado com o host ou que há um caminho completo para o arquivo.|
|Erros foram gerados ao inicializar o objeto de transformação. A transformação não será executada.|Ocorre quando o 'Initialize ()' da classe de transformação falhou ou retornado falso.|O código na função Initialize () é proveniente da classe de base de transformação especificada no \<#@template#> diretiva e de processadores de diretivas. O erro que causou a inicializar falha provavelmente está na lista de erros. Investigar a razão da falha. Você pode procurar o código gerado real Initialize () seguindo os procedimentos para depurar um modelo.|
|O assembly '{0}'do processador de diretiva'{1}' não foi concedida a permissão FullTrust. Somente os assemblies confiáveis podem fornecer processadores de diretivas. Este processador de diretiva não será carregado.|Ocorre quando o sistema não concede permissões FullTrust para um assembly que contém um processador de diretiva. A mensagem fornece o nome do assembly e o nome do processador de diretiva.|Certifique-se de que você só usar assemblies confiáveis no computador local.|
|O caminho '{0}' deve ser local neste computador ou parte de uma zona confiável.|Ocorre quando uma diretiva ou diretiva de assembly faz referência a um arquivo não está no seu computador local ou na zona de confiança da sua rede.|Certifique-se de que o diretório onde estão localizadas a diretiva ou diretivas de assembly está na zona confiável. Você pode adicionar um diretório de rede à zona confiável pelo Internet Explorer.|
|Vários erros de sintaxe, como "Inválido token ' catch'" ou "um namespace não pode conter diretamente membros"|Há muitas chaves de fechamento no seu código de modelo. O compilador é confuso com o código de geração de padrão.|Verifique o número de fechamento de chaves e colchetes dentro de delimitadores de código.|
|Loops condicionais não compilado ou executado corretamente. Por exemplo: `<#if (i>10)#> Number is: <#= i #>`.<br /><br /> Este código sempre produz o valor de i. Somente "número é:" é condicional.|No c#, sempre use chaves ao redor de blocos de texto que são inseridos em instruções de controle.|Adicionar chaves: `<#if (i>10) { #>    Number is: <#= i #><# } #>`.|
|"Expressão muito complexa" ao processar um modelo de tempo de design ou compilando um modelo (pré-processados) de tempo de execução.<br /><br /> [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] parar de funcionar durante a tentativa de inspecionar o código gerado por um modelo de tempo de execução.|Bloco de texto é muito longo. T4 converte os blocos de texto em uma expressão de concatenação de cadeia de caracteres, com uma cadeia de caracteres literal para cada linha do modelo. Blocos de texto muito longas podem overstep limites de tamanho do compilador.|Divida o bloco de texto longo com um bloco da expressão, como:<br /><br /> `<#= "" #>`|

## <a name="warning-descriptions-and-fixes"></a>Correções e descrições de aviso
 A tabela a seguir lista os avisos mais comuns com correções, se disponível.

|Mensagem de aviso|Descrição|Solução|
|---------------------|-----------------|--------------|
|Carregando o arquivo de inclusão '{0}' retornou uma cadeia de caracteres nula ou vazia.|Ocorre se um arquivo de modelo de texto incluído estiver em branco. A mensagem fornece o nome do arquivo do arquivo incluído.|Remova a diretiva de inclusão ou certifique-se de que o arquivo tem conteúdo.|
|Compilando transformação:|Precede essa cadeia de caracteres para todos os erros ou avisos quando ele compila a transformação de origem do compilador. Essa cadeia de caracteres significa que o compilador gerou um erro ou aviso.|Se você tiver um problema para encontrar a DLL, você precisará fornecer o caminho completo ou um nome totalmente qualificado de alta segurança, se a DLL está no GAC.|
|O parâmetro '{0}' já existe na diretiva. O parâmetro duplicado será ignorado.|Ocorre quando um parâmetro é especificado mais de uma vez em uma diretiva. A mensagem fornece o nome do parâmetro e o número da linha da diretiva.|Remova a especificação do parâmetro duplicado.|
|Houve um erro ao carregar o arquivo de inclusão '{0}'. A diretiva de inclusão será ignorada.|Ocorre quando não é possível localizar um arquivo especificado em um `include` diretiva. A mensagem fornece o nome do arquivo e o número da linha da diretiva.|Certifique-se de que o arquivo de inclusão existe no mesmo diretório do arquivo de modelo de texto original ou em um dos diretórios de inclusão que são registrados com o host.|
|Uma classe base inválida foi especificada para a classe de transformação. A classe base deve derivar de TextTransformation.|Ocorre quando o `inherits` parâmetro em uma diretiva de modelo especifica uma classe que não herda de `TextTransformation`. A mensagem fornece o número da linha da diretiva de modelo.|Especifique uma classe que deriva de `TextTransformation`.|
|Uma cultura inválida foi especificada na diretiva 'template'. A cultura deve estar no formato "xx-XX". A cultura invariável será usada.|Ocorre quando o parâmetro de cultura em uma diretiva de modelo foi especificado incorretamente. A mensagem fornece o número da linha da diretiva de modelo.|Altere o parâmetro de cultura para uma cultura válida no formato "xx-XX".|
|Um valor de depuração inválido '{0}' foi especificado na diretiva de modelo. O valor de depuração deve ser "true" ou "false". O padrão de "false" será usado.|Ocorre quando o `debug` parâmetro em uma diretiva de modelo foi especificado incorretamente. A mensagem fornece o número da linha da diretiva de modelo.|Defina o parâmetro de depuração como "true" ou "falso".|
|Um valor de HostSpecific inválido '{0}' foi especificado na diretiva de modelo. O valor de HostSpecific deve ser "true" ou "false". O padrão de "false" será usado.|Ocorre quando o parâmetro de host específico em um `template` diretiva foi especificada incorretamente. A mensagem fornece o número da linha da diretiva de modelo.|Defina o parâmetro de host específico como "verdadeiro" ou "false".|
|Um idioma inválido '{0}' foi especificado na diretiva 'template'. O idioma deve ser "C#" ou "VB". O valor padrão de "C#" será usado.|Ocorre quando um idioma sem suporte é especificado no `template` diretiva. Somente "C#" ou "VB" são permitidos (não diferencia maiusculas de minúsculas). A mensagem fornece o número da linha da diretiva de modelo.|Definir o `language` parâmetro na diretiva de modelo "C#" ou "VB".|
|Várias diretivas de saída foram encontradas no modelo. Tudo, exceto o primeiro deles será ignorado.|Ocorre quando várias `output` as diretivas são especificadas em um arquivo de modelo. A mensagem fornece o número da linha da diretiva de saída duplicado.|Remover duplicata `output` diretivas.|
|Várias diretivas de modelo foram encontradas no modelo. Tudo, exceto o primeiro deles será ignorado. Vários parâmetros para a diretiva de modelo devem ser especificados em uma diretiva de modelo.|Ocorre se você especificar vários `template` diretivas dentro de um arquivo de modelo de texto (incluindo arquivos incluídos). A mensagem fornece o número da linha da diretiva de modelo duplicado.|Agregar os diferentes `template` diretivas em uma `template` diretiva.|
|Nenhum processador foi especificado para uma diretiva chamada '{0}'. A diretiva será ignorada.|Ocorre se você especificar um `custom` diretiva, mas não fornecer um `processor` atributo. A mensagem fornece o nome da diretiva e o número da linha.|Forneça um `processor` atributo com o nome do `directive` processador para a diretiva.|
|Um processador chamado '{0}'não pôde ser encontrado na diretiva chamada'{1}'. A diretiva será ignorada.|Ocorre quando o sistema não pode localizar o `directive` processador especificado dentro de um `custom` diretiva. A mensagem fornece o nome da diretiva, nome do processador e o número da linha da diretiva.|Definir o `processor` atributo na diretiva para o nome do processador de diretiva.|
|Um parâmetro obrigatório '{0}'para a diretiva'{1}' não foi encontrado. A diretiva será ignorada.|Ocorre quando o sistema não fornecer um parâmetro obrigatório de diretiva. A mensagem fornece o nome do parâmetro ausente, o nome da diretiva e o número da linha.|Forneça o parâmetro ausente.|
|O processador chamado '{0}'não oferece suporte à diretiva chamada'{1}'. A diretiva será ignorada.|Ocorre quando um processador de diretiva não dá suporte a uma diretiva. A mensagem fornece o nome e número de linha da diretiva prejudiciais junto com o nome do processador de diretiva.|Corrija o nome da diretiva.|
|A diretiva inclusa do arquivo '{0}' causa um loop infinito.|Exibida se as diretivas de inclusão circular especificados (por exemplo, arquivo inclui arquivo B, que inclui um arquivo).|Não especifique circular as diretivas de inclusão.|
|A execução de transformação:|Precede essa cadeia de caracteres para todos os erros ou avisos que são gerados durante a execução de transformação.|Não aplicável.|
|Uma marca de início ou fim inesperada foi encontrada dentro de um bloco. Certifique-se de que você não digitou incorretamente uma marca de início ou término, e que não há blocos aninhados no modelo.|Exibida quando o inesperado \<# ou #>. Ou seja, se você tiver um \<# após outra marca aberta que não foram fechada, ou você tem um #> quando há uma marca de abrir fechada antes dele. A mensagem fornece o número da linha da marca incompatível.|Remova a marca de início ou término incompatível, ou use um caractere de escape.|
|Uma diretiva foi especificada em um formato incorreto. A diretiva será ignorada. Especifique a diretiva no formato `<#@ name [parametername="parametervalue"]*  #>`|Exibido pelo analisador se uma diretiva não for especificada no formato correto. A mensagem fornece o número da linha da diretiva incorreto.|Certifique-se de que todas as diretivas são no formato `<#@ name [parametername="parametervalue"]*  #>`. Para obter mais informações, consulte [diretivas de modelo de texto T4](../modeling/t4-text-template-directives.md).|
|Falha ao carregar o Assembly '{0}'para o processador de diretiva registrado'{1}'<br /><br /> {2}|Ocorre quando um processador de diretiva não pôde ser carregado pelo host. A mensagem identifica o assembly fornecido para o processador de diretiva e o nome do processador de diretiva.|Certifique-se de que o processador de diretiva está registrado corretamente e se o assembly existe.|
|Falha ao localizar o tipo '{0}'no Assembly'{1}'para o processador de diretiva registrado'{2}'<br /><br /> {3}|Ocorre quando um tipo de processador de diretiva não foi possível carregar o assembly. A mensagem fornece o nome do tipo, o assembly e o processador de diretiva.|O vshost Localiza informações de processador de diretiva (nome de assembly e tipo) no registro. Certifique-se de que o processador de diretiva está registrado corretamente e se o tipo existe no assembly.|
|Houve um problema ao carregar o assembly '{0}'|Ocorre quando há um problema ao carregar um assembly. A mensagem fornece o nome do assembly.|Você pode especificar os assemblies para ser carregado na \<@# assembly #> diretivas e por processadores de diretivas. A mensagem de erro que segue essa cadeia de caracteres deve fornecer mais dados sobre por que o módulo falhou ao carregar.|
|Houve um problema ao criar e inicializar o processador de uma diretiva chamada '{1}'. O tipo do processador é {0}. A diretiva será ignorada.|Ocorre quando o sistema não foi possível criar ou inicializar um processador de diretiva. A mensagem fornece o nome e número de linha da diretiva e o tipo do processador.|Certifique-se de que você usar o processador de diretiva correta e se o processador de diretiva tem um construtor padrão público. Caso contrário, use as opções de depuração para descobrir por que o método Initialize () do processador de diretiva está falhando. Para obter mais informações, consulte [modelos de solução de problemas de texto](../modeling/debugging-a-t4-text-template.md).|
|Ocorreu uma exceção ao processar uma diretiva chamada '{0}'.|Ocorre quando um processador de diretiva lança uma exceção ao processar uma diretiva.|Certifique-se de que os parâmetros para o processador de diretiva estão corretos.|
|O host lançou uma exceção ao tentar resolver a referência de assembly '{0}'.|Ocorre quando o host lança uma exceção ao tentar resolver uma referência de assembly. A mensagem fornece o assembly de referência de cadeia de caracteres.|Assembly referências provenientes \<@# assembly #> diretivas e de processadores de diretivas. Certifique-se de que o parâmetro 'name' fornecido no parâmetro de assembly está correto.|
|Tente especificar sem suporte {1} valor '{0}' para a diretiva {2}|Ocorre por meio de RequiresProvidesDirectiveProcessor (todos os nossos processadores de diretiva gerados derivam dele), quando você fornece não suportado requer ou fornece um argumento.|Certifique-se de que os nomes em name = 'value' pares fornecidos no requer e fornece parâmetros estão corretos.|